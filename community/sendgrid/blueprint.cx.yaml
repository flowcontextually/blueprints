id: blueprint:community-sendgrid
name: SendGrid API
version: 0.3.0
connector_provider_key: rest-declarative

supported_auth_methods:
  - type: api_key
    display_name: "API Key Authentication"
    fields:
      - name: sendgrid_api_key
        label: "SendGrid API Key"
        type: secret
        is_password: true

auth_config:
  type: "header"
  header_name: "Authorization"
  value_template: "Bearer {{ secrets.sendgrid_api_key }}"

browse_config:
  base_url_template: https://api.sendgrid.com
  action_templates:
    send_email:
      http_method: POST
      api_endpoint: /v3/mail/send
      description: "Sends a rich email with to, cc, bcc, and attachments."
      payload_constructor:
        _model: schemas.SendGridMailPayload
